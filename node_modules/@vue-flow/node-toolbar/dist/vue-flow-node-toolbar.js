"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),s=require("@vue-flow/core"),k={name:"NodeToolbar",compatConfig:{MODE:3},inheritAttrs:!1},w=e.defineComponent({...k,props:{nodeId:null,isVisible:{type:Boolean},position:{default:s.Position.Top},offset:{default:10},align:{default:"center"}},setup(h){const i=h,y=e.inject(s.NodeIdInjection,null),{viewportRef:r,viewport:g,getSelectedNodes:b,findNode:f}=s.useVueFlow();function m(o,t,c,n,p){let l=.5;p==="start"?l=0:p==="end"&&(l=1);let d=[(o.x+o.width*l)*t.zoom+t.x,o.y*t.zoom+t.y-n],a=[-100*l,-100];switch(c){case s.Position.Right:d=[(o.x+o.width)*t.zoom+t.x+n,(o.y+o.height*l)*t.zoom+t.y],a=[0,-100*l];break;case s.Position.Bottom:d[1]=(o.y+o.height)*t.zoom+t.y+n,a[1]=0;break;case s.Position.Left:d=[o.x*t.zoom+t.x-n,(o.y+o.height*l)*t.zoom+t.y],a=[-100,-100*l];break}return`translate(${d[0]}px, ${d[1]}px) translate(${a[0]}%, ${a[1]}%)`}const u=e.computed(()=>(Array.isArray(i.nodeId)?i.nodeId:[i.nodeId||y||""]).reduce((t,c)=>{const n=f(c);return n&&t.push(n),t},[])),v=e.computed(()=>typeof i.isVisible=="boolean"?i.isVisible:u.value.length===1&&u.value[0].selected&&b.value.length===1),x=e.computed(()=>s.getRectOfNodes(u.value)),I=e.computed(()=>Math.max(...u.value.map(o=>(o.computedPosition.z||1)+1))),z=e.computed(()=>({position:"absolute",transform:m(x.value,g.value,i.position,i.offset,i.align),zIndex:I.value}));return(o,t)=>(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(r),disabled:!e.unref(r)},[e.unref(v)&&e.unref(u).length?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0},o.$attrs,{style:e.unref(z),class:"vue-flow__node-toolbar"}),[e.renderSlot(o.$slots,"default")],16)):e.createCommentVNode("",!0)],8,["to","disabled"]))}});exports.NodeToolbar=w;
